<div align="center">

<h1>Linux编程基础</h1>

</div>

# 目录

- [目录](#目录)
- [vi 或 vim](#vi-或-vim)
  - [工作模式：](#工作模式)
  - [常用命令：](#常用命令)
- [GCC](#gcc)
  - [编译流程](#编译流程)
  - [编译常用选项](#编译常用选项)
- [GDB](#gdb)
  - [概述](#概述)
  - [常用命令](#常用命令-1)


# vi 或 vim

`vi` 或 `vim` 是一款强大的文本编辑器，常用于Unix和Linux系统。它有三种主要工作模式：命令模式、编辑模式和底行模式。

## 工作模式：

1. **命令模式：**
   - 在此模式下，键盘输入会被解释为命令。你可以执行移动光标、复制、粘贴等操作。

2. **编辑模式：**
   - 在此模式下，你可以输入或编辑文本。按下 `i` 键进入编辑模式。

3. **底行模式：**
   - 在此模式下，你可以保存文件、退出编辑器等。按下 `:` 键进入底行模式。

![image-20231230171125420](images/02-Linux编程基础/image-20231230171125420.png)

## 常用命令：

- **yy：**
  - 复制当前行（在命令模式下输入 `yy`）。

- **dd：**
  - 删除当前行（在命令模式下输入 `dd`）。

- **:q!：**
  - 放弃所有更改并强制退出（在底行模式下输入 `:q!`）。

- **:q：**
  - 退出编辑器（在底行模式下输入 `:q`）。

- **:wq：**
  - 保存更改并退出编辑器（在底行模式下输入 `:wq`）。

---


# GCC

## 编译流程

编译过程通常包括以下四个阶段：

1. **预处理（Preprocessing）：**
   - 展开宏定义，处理条件编译，生成经过预处理的源代码文件（通常以`.i`为扩展名）。

2. **编译（Compilation）：**
   - 将预处理后的代码翻译成汇编代码（通常以`.s`为扩展名）。

3. **汇编（Assembly）：**
   - 将汇编代码翻译成目标机器语言，生成目标文件（通常以`.o`为扩展名）。

4. **链接（Linking）：**
   - 将目标文件与其他目标文件或库文件链接在一起，生成最终的可执行文件。

---


## 编译常用选项

1. **`-o file`：**
   - 指定输出文件的名称，例如 `-o my_program`。

2. **`-g`：**
   - 生成包含调试信息的可执行文件，以便在调试时使用。

3. **`-E`：**
   - 只进行预处理，生成预处理后的代码。

4. **`-S`：**
   - 只进行编译，生成汇编代码。

5. **`-c`：**
   - 只进行编译和汇编，生成目标文件。

6. **`-I dir`：**
   - 指定头文件的搜索路径，例如 `-I /usr/include`。

7. **`-L path`：**
   - 指定库文件的搜索路径，例如 `-L /usr/lib`。

8. **`-lname`：**
   - 指定要链接的库文件，例如 `-lm` 链接数学库。

9. **`-Wall`：**
   - 启用所有常用的警告信息。

---

# GDB

## 概述

GDB（GNU调试器）是一个用于调试程序的强大工具。它能够在程序执行时监视并控制其行为，帮助你找到和修复错误。在使用 `gcc` 编译时，添加 `-g` 选项可以将调试信息嵌入可执行文件中，这样 GDB 就能更好地理解源代码和程序的关系。

## 常用命令

1. **`list`：**
   - 显示源代码，通常与行号一起使用，如 `list 10` 显示第10行附近的源代码。

2. **`break`：**
   - 在指定的行设置断点，如 `break 15` 在第15行设置断点。

3. **`information`：**
   - 提供各种信息，如 `info breakpoints` 显示当前设置的所有断点。

4. **`run`：**
   - 启动程序并开始调试，如 `run arg1 arg2` 启动程序并传递参数 `arg1` 和 `arg2`。

5. **`print`：**
   - 打印变量的值，如 `print variable` 打印变量的值。

6. **`watch`：**
   - 监视变量的值，当变量的值发生变化时停下来，如 `watch variable`。

7. **`next` 或 `step`：**
   - 单步执行，`next` 用于逐过程执行，`step` 用于逐语句执行。

8. **`continue`：**
   - 继续执行程序直到遇到下一个断点或程序结束。

9. **`quit`：**
   - 退出 GDB。

这些命令是使用 GDB 进行基本调试时常用的一些命令。你可以根据具体情况深入学习更多 GDB 的功能和命令。希望这些信息对你有帮助！