<div align="center">

<h1>嵌入式系统基础</h1>

</div>

# 目录

- [目录](#目录)
- [概述](#概述)
- [VMWare提供的三种网络工作模式](#vmware提供的三种网络工作模式)
- [Linux](#linux)
  - [1. 分区类型](#1-分区类型)
  - [2. Linux版本](#2-linux版本)
  - [3. 硬盘分区](#3-硬盘分区)
  - [4. 挂载](#4-挂载)
  - [5. 文件类型](#5-文件类型)
  - [6. 文件属性](#6-文件属性)
  - [7. 新建文件的权限](#7-新建文件的权限)
  - [8. 目录结构](#8-目录结构)
  - [9. Linux常用命令](#9-linux常用命令)

# 概述

**1. 嵌入式系统概念**
   - 以应用为中心：嵌入式系统专注于满足特定应用领域的需求。
   - 以计算机技术为基础：利用计算机技术实现特定功能。
   - 软件硬件可裁剪：系统的软硬件可根据需求进行定制和优化。
   - 满足严格要求：嵌入式系统在功能、可靠性、成本、体积、功耗等方面有严格的要求。

**2. 嵌入式系统组成**
   - 嵌入式硬件系统：包括微处理器、存储器、输入设备、输出设备等。
   - 嵌入式软件系统：包括启动代码、驱动程序、操作系统、应用程序等。

**3. 嵌入式系统硬件核心**
   - 嵌入式处理器：系统的核心计算单元，常分为嵌入式微处理器、嵌入式微控制器、嵌入式DSP处理器、嵌入式片上系统。

**4. 嵌入式系统操作系统**
   - 实时操作系统（RTOS）：如VxWorks、μC/OS-II，用于处理实时任务和严格的时间要求。
   - 通用操作系统：包括WinCE、Embedded Linux、iOS、Android，适用于更通用的嵌入式应用。

# VMWare提供的三种网络工作模式

VMWare提供的三种网络工作模式分别是`Bridged`（桥接模式）、`Host-Only`（仅主机模式）和`NAT`（网络地址转换模式）。

**1. Bridged（桥接模式）**
   - 特点：虚拟机的IP可设置与主机在同一网段，虚拟机相当于网络内的一台独立机器。
   - 互联性：同一网络内的虚拟机之间以及虚拟机与主机之间可以互相访问，形成一个类似局域网的环境。

![image-20231228152424341](images/01-嵌入式系统基础/image-20231228152424341.png)

**2. NAT（网络地址转换模式）**
   - 特点：实现主机与虚拟机间的双向访问，但虚拟机为主机独享，其他局域网主机（或虚拟主机）不能直接访问该虚拟机。
   - 访问网络：虚拟机可以通过主机使用NAT协议访问网络内的其他机器。

![image-20231228152500180](images/01-嵌入式系统基础/image-20231228152500180.png)

**3. Host-Only（仅主机模式）**
   - 特点：虚拟机与主机共享网络连接，与外部网络隔离。
   - 互联性：主机与虚拟机可以互相访问，但无法直接访问外部网络，实现了一种局域网络的隔离模式。

![image-20231228152444358](images/01-嵌入式系统基础/image-20231228152444358.png)

这些网络工作模式提供了不同的网络配置选项，使用户可以根据需求选择适合其场景的配置：Bridged模式提供了与外部网络直接通信的方式，NAT模式提供了一种保护虚拟机的方式，而Host-Only模式则提供了一种与主机共享连接但与外部网络隔离的选项。

# Linux

## 1. 分区类型

- **根分区：** 这是Linux系统的主要安装目录，包含操作系统的核心文件。通常，根分区是文件系统的根目录 ("/")。
- **交换分区：** 用于虚拟内存，当物理内存不足时，系统可以将一些数据存储到交换分区中。交换分区对于系统的性能和稳定性很重要。

## 2. Linux版本

- **核心版：** 通常指Linux内核，它是操作系统的核心部分，管理硬件资源、文件系统等。用户可以选择并添加其他软件组件，以构建完整的Linux系统。
- **发行版：** 发行版是包含了Linux内核及相关软件、工具和包管理系统的完整操作系统。常见的发行版有`Ubuntu`、`Fedora`、`Debian`等，它们提供了更易用的界面和软件包管理。

## 3. 硬盘分区

- **主分区：** 最多可以有四个，用于安装操作系统及其引导程序。
- **扩展分区：** 用于划分逻辑分区，一个硬盘上只能有一个扩展分区。
- **逻辑分区：** 位于扩展分区中，用于存储用户数据和其他文件。

## 4. 挂载

- **挂载点：** 在Linux中，挂载是将一个分区与文件系统中的目录关联的过程。挂载点是这个目录，通过挂载，分区的内容就可以在这个目录下访问。

## 5. 文件类型

在Linux系统中，遵循着“一切皆文件”的理念，所有信息都被当作文件来识别。

以下是Linux系统中常见的文件类型：

**1. 普通文件：**
   - 描述：是用户日常使用最多的文件类型，包括文本文件、shell脚本、二进制可执行文件以及各种类型的数据文件等。
   - 例子：`text.txt`, `script.sh`, `executable`, `data.dat`等。

**2. 目录文件：**
   - 描述：包含文件名、子目录名以及指向文件和子目录的指针，用于组织文件系统中的层次结构。
   - 例子：`/home/user/documents/`, `/etc/config/`等。

**3. 链接文件：**
   - 描述：类似于Windows快捷方式，但更为强大。可以链接到不同目录文件系统甚至是不同机器上的文件，而不需要重新占用磁盘空间。
   - 例子：硬链接、符号链接。

**4. 设备文件：**
   - 描述：Linux将设备也看作文件来进行操作，分为字符设备文件、块设备文件和网络设备文件。
     - **字符设备文件：** 处理数据时以字符为单位，例如串口、LCD等。
     - **块设备文件：** 处理数据时以块为单位，例如硬盘、U盘等。
     - **网络设备文件：** 代表联网设备，如网卡。

通过将所有这些不同类型的信息都抽象为文件，Linux系统提供了一种一致的接口和方法来处理各种数据和设备。这种思想使得用户和开发人员可以使用相似的命令和工具来管理和操作系统的各个方面。

## 6. 文件属性

在Linux系统中，文件的属性信息包括文件类型、文件归属（所有权）以及文件访问权限。

以下是对十位标志的解释：

**1. 第1位 - 文件类型：**
   - `-`：普通文件
   - `d`：目录
   - `l`：软链接文件
   - `p`：FIFO管道文件
   - `c`：字符设备文件
   - `b`：块设备文件

**2. 第2-4位 - 属主权限（User）：**
   - `r`：读取权限
   - `w`：写入权限
   - `x`：可执行权限

**3. 第5-7位 - 属组权限（Group）：**
   - `r`：读取权限
   - `w`：写入权限
   - `x`：可执行权限

**4. 第8-10位 - 其他用户权限（Other）：**
   - `r`：读取权限
   - `w`：写入权限
   - `x`：可执行权限

**示例：**

```
[root@localhost ~]# ls -l install.log
-rw-r--r-- 1 root root 34298 04-02 00:23 install.log
```

在上述示例中，对应的文件属性解释如下：
- 文件类型：`-` 表示这是一个普通文件。
- 属主权限：`rw-` 表示属主（root）具有读写权限。
- 属组权限：`r--` 表示属组（root）具有只读权限。
- 其他用户权限：`r--` 表示其他用户具有只读权限。


另外，这里补充一个知识点。

在Linux文件权限中，常用的权限组合是由三个数字组成：

- `4` 表示读权限（Read）
- `2` 表示写权限（Write）
- `1` 表示执行权限（Execute）

因此每个权限组合都可以是这三个数字的和，例如：

- `7` 表示读、写、执行权限（4 + 2 + 1）
- `6` 表示读、写权限（4 + 2）
- `5` 表示读、执行权限（4 + 1）
- `4` 表示只读权限（4）

## 7. 新建文件的权限

在Linux系统中，新建文件或目录时的默认权限由文件创建掩码（umask）决定。默认情况下，文件创建掩码通常设置为022。

**默认权限计算规则：**
1. 对于可执行文件，默认权限是777减去掩码的值。如果掩码为022，则新建可执行文件的权限为755。
2. 对于非可执行文件（如文本文件、数据文件等），在创建时默认是没有执行权限（x）的，因此新建文件的权限为(777减去掩码)并去除执行权限位。如果掩码为022，则新建文件的权限为644。
3. 对于新建目录，默认权限是777减去掩码的值。如果掩码为022，则新目录的权限为755。

**示例：**
如果掩码为022，新建文件或目录的默认权限计算如下：
- 新建可执行文件权限：`777 - 022 = 755`
- 新建非可执行文件权限：`(777 - 022) & 666 = 644`
- 新建目录权限：`777 - 022 = 755`

## 8. 目录结构

Linux的目录结构是一个树形结构，说明如下：

1. **`/`（根目录）：**
   - 包含整个文件系统的根目录。

2. **`/boot`：**
   - 存放系统启动所需要的文件，包括内核文件和引导加载程序（GRUB等）。

3. **`/bin`：**
   - 存放常用的基本系统命令的可执行文件，这些命令对系统的正常运行非常重要，通常包含一些基本的 `Shell` 命令。

4. **`/sbin`：**
   - 存放系统管理员的系统管理程序，这些程序通常需要超级用户权限才能运行。

5. **`/usr`：**
   - 存放用户安装的应用程序和文件。通常包括用户的主目录、系统的二进制文件、库、文档等。

6. **`/dev`：**
   - 存放所有设备文件，包括硬盘、分区、键盘、鼠标、USB等。Linux中一切皆文件，设备也被视为文件。

7. **`/var`：**
   - 存放系统可变信息的文件，例如日志文件、邮件、打印队列等。这些文件的内容可能随着系统的运行而变化。

8. **`/etc`：**
   - 存放系统管理所需要的配置文件。包含系统的各种配置信息，例如网络配置、用户配置等。

9. **`/lib`：**
   - 存放系统动态链接共享库文件，这些库文件被可执行文件引用，提供了程序运行所需的函数和资源。

## 9. Linux常用命令

以下是一些常用的Linux系统命令及其简要说明：


1. **显示目录内容命令 `ls`：**
   - 显示目录中的文件和子目录。选项 `-a` 显示所有文件，`-l` 以详细列表方式显示，`-h` 以易读格式显示文件大小。
     - 示例：`ls -a` 显示所有文件，包括隐藏文件。
     - 示例：`ls -l` 以详细列表方式显示文件信息。
     - 示例：`ls -h` 以易读格式显示文件大小。

2. **改变工作目录命令 `cd`：**
   - 切换当前工作目录到指定目录。
     - 示例：`cd Documents` 进入 "Documents" 目录。

3. **删除空目录命令 `rmdir`：**
   - 删除空目录。
     - 示例：`rmdir directory_name` 删除名为 "directory_name" 的空目录。

4. **复制文件或目录命令 `cp`：**
   - 复制文件或目录。选项 `-f` 强制复制，`-r` 递归复制。
     - 示例：`cp file1 file2` 复制文件 "file1" 到 "file2"。
     - 示例：`cp -r dir1 dir2` 递归复制目录 "dir1" 到 "dir2"。

5. **查找文件或目录命令 `find`：**
   - 在文件系统中查找文件或目录。
     - 示例：`find / -name filename` 在根目录下查找文件名为 "filename" 的文件。

6. **改变文件访问权限命令 `chmod`：**
   - 修改文件或目录的权限。例如，`chmod +x filename` 赋予执行权限。
     - 示例：`chmod 755 file` 赋予文件 "file" 执行权限。

7. **配置网络参数命令 `ifconfig`：**
   - 显示或配置网络接口的参数。
     - 示例：`ifconfig` 显示所有网络接口信息。

8. **查看进程信息命令 `ps`：**
   - 显示当前运行的进程信息。选项 `-e` 显示所有进程，`-f` 显示详细信息，`-u` 显示用户相关信息。
     - 示例：`ps -ef` 显示所有进程的详细信息。

9. **创建设备节点命令 `mknod`：**
   - 创建字符设备或块设备的节点。
     - 示例：`mknod /dev/mydevice c 10 1` 创建字符设备节点 "mydevice"。

10. **装载内核驱动模块命令 `insmod`：**
    - 装载指定的内核模块。
      - 示例：`insmod mymodule.ko` 装载名为 "mymodule.ko" 的内核模块。

11. **显示文件内容命令 `cat`：**
    - 查看文件内容。
      - 示例：`cat file.txt` 显示文件 "file.txt" 的内容。

12. **建立子目录命令 `mkdir`：**
    - 创建新的目录。选项 `-p` 创建多级目录。
      - 示例：`mkdir new_directory` 创建名为 "new_directory" 的新目录。

13. **删除文件或目录命令 `rm`：**
    - 删除文件或目录。选项 `-f` 强制删除，`-r` 递归删除。
      - 示例：`rm file.txt` 删除文件 "file.txt"。
      - 示例：`rm -r directory` 递归删除目录 "directory"。

14. **移动、重命名文件或目录命令 `mv`：**
    - 移动文件或目录，或者重命名文件或目录。
      - 示例：`mv file1 file2` 将 "file1" 移动或重命名为 "file2"。

15. **链接文件或目录命令 `ln`：**
    - 创建硬链接或符号链接。
      - 示例：`ln file link` 创建硬链接 "link" 指向 "file"。

16. **挂载文件系统命令 `mount`：**
    - 挂载文件系统到指定目录。
      - 示例：`mount /dev/sda1 /mnt` 将设备 "/dev/sda1" 挂载到目录 "/mnt"。

17. **压缩与解压缩命令 `tar`：**
    - 打包和解压文件。选项 `-c` 创建打包文件，`-x` 解压文件，`-z` 使用 gzip 压缩。
      - 示例：`tar -cvf archive.tar file1 file2` 创建打包文件 "archive.tar" 包含 "file1" 和 "file2"。

18. **显示系统信息命令 `uname`：**
    - 显示系统信息。例如，`uname -a` 显示所有信息。
      - 示例：`uname -r` 显示内核版本。

19. **查看内核加载模块命令 `lsmod`：**
    - 显示当前加载的内核模块。
      - 示例：`lsmod` 显示所有加载的内核模块。

20. **卸载内核驱动模块命令 `rmmod`：**
    - 卸载指定的内核模块。
      - 示例：`rmmod mymodule` 卸载名为 "mymodule" 的内核模块。




每个命令都有不同的选项和用法，可以通过命令后加上 `--help` 获取更详细的帮助信息。